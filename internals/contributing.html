
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>对 Sphinx 的贡献 &#8212; Sphinx documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx13.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="canonical" href="https://www.sphinx-doc.org/en/master/internals/contributing.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.svg"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Sphinx’s release process" href="release-process.html" />
    <link rel="prev" title="Sphinx internals" href="index.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script>
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../usage/installation.html">Get it</a></li>
    <li><a href="../contents.html">Docs</a></li>
    <li><a href="../development/index.html">Extend</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <img src="../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="通用索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="release-process.html" title="Sphinx’s release process"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="Sphinx internals"
             accesskey="P">上一页</a> |</li>
        <li><a href="../index.html">Sphinx home</a>&#160;|</li>
        <li><a href="../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Sphinx internals</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">对 Sphinx 的贡献</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">对 Sphinx 的贡献</a><ul>
<li><a class="reference internal" href="#getting-help">获得帮助</a></li>
<li><a class="reference internal" href="#bug-reports-and-feature-requests">错误报告和功能请求</a></li>
<li><a class="reference internal" href="#writing-code">编写代码</a><ul>
<li><a class="reference internal" href="#getting-started">开始行动</a></li>
<li><a class="reference internal" href="#coding-style">Coding style</a></li>
<li><a class="reference internal" href="#unit-tests">Unit tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-documentation">Writing documentation</a><ul>
<li><a class="reference internal" href="#translations">Translations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debugging-tips">Debugging tips</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一个主题</h4>
    <p class="topless"><a href="index.html"
                          title="上一章">Sphinx internals</a></p>
  </div>
  <div>
    <h4>下一个主题</h4>
    <p class="topless"><a href="release-process.html"
                          title="下一章">Sphinx’s release process</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/internals/contributing.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="contributing-to-sphinx">
<h1>对 Sphinx 的贡献<a class="headerlink" href="#contributing-to-sphinx" title="永久链接至标题">¶</a></h1>
<p>你可以通过很多方式为 Sphinx 做贡献，无论是提交错误报告或功能请求，编写新的文档或提交新的或固定行为的补丁。本指南旨在说明你如何能开始做这些事。</p>
<section id="getting-help">
<h2>获得帮助<a class="headerlink" href="#getting-help" title="永久链接至标题">¶</a></h2>
<p>Sphinx 社区保持着一些邮件列表和 IRC 频道。</p>
<dl class="simple">
<dt>Stack Overflow 中的标签 <a class="reference external" href="https://stackoverflow.com/questions/tagged/python-sphinx">python-sphinx</a></dt><dd><p>关于使用和开发的问题和答案。</p>
</dd>
<dt>sphinx-users &lt;<a class="reference external" href="mailto:sphinx-users&#37;&#52;&#48;googlegroups&#46;com">sphinx-users<span>&#64;</span>googlegroups<span>&#46;</span>com</a>&gt;</dt><dd><p>用于用户支持的邮件列表。</p>
</dd>
<dt>sphinx-dev &lt;<a class="reference external" href="mailto:sphinx-dev&#37;&#52;&#48;googlegroups&#46;com">sphinx-dev<span>&#64;</span>googlegroups<span>&#46;</span>com</a>&gt;</dt><dd><p>用于开发的相关讨论邮件列表。</p>
</dd>
<dt>#sphinx-doc on irc.libera.chat</dt><dd><p>IRC 频道，用于解决开发问题和用户支持。</p>
</dd>
</dl>
</section>
<section id="bug-reports-and-feature-requests">
<h2>错误报告和功能请求<a class="headerlink" href="#bug-reports-and-feature-requests" title="永久链接至标题">¶</a></h2>
<p>如果你遇到了 Sphinx 的问题或有新功能的想法，请提交到 GitHub 上的 <a class="reference external" href="https://github.com/sphinx-doc/sphinx/issues">issue tracker</a>，或在 <a class="reference external" href="mailto:sphinx-dev&#37;&#52;&#48;googlegroups&#46;com">sphinx-dev</a> 邮件列表中讨论。</p>
<p>对于错误报告，请包括在构建过程中产生的输出，以及 Sphinx 在遇到未处理的异常后创建的日志文件。这个文件的位置应该显示在错误信息的最后。</p>
<p>包括或提供所涉及的源文件的链接可能有助于我们解决这个 issue。如果可能的话，尝试创建一个产生错误的最小项目，并张贴出来</p>
</section>
<section id="writing-code">
<h2>编写代码<a class="headerlink" href="#writing-code" title="永久链接至标题">¶</a></h2>
<p>Sphinx 的源代码使用 Git 管理，托管在 <a class="reference external" href="https://github.com/sphinx-doc/sphinx">GitHub</a>。推荐新的贡献者向 Sphinx 提交代码的方式是分叉这个仓库，并在提交修改后提交一个拉动请求。然后，在合并到主仓库之前，该拉取请求需要得到核心开发人员的批准。</p>
<section id="getting-started">
<h3>开始行动<a class="headerlink" href="#getting-started" title="永久链接至标题">¶</a></h3>
<p>在开始打补丁之前，我们建议检查是否有开放的 issue，或者打开一个新的 issue，围绕一个功能想法或一个错误展开讨论。如果你对某个问题或你的改动感到不舒服或不确定，请随时给 <em>sphinx-dev</em> 邮件列表发邮件。</p>
<p>这些是在 Sphinx 上开始开发所需的基本步骤。</p>
<ol class="arabic">
<li><p>在 GitHub 上创建账户。</p></li>
<li><p>使用 GitHub 接口分叉主 Sphinx 仓库（<a class="reference external" href="https://github.com/sphinx-doc/sphinx">sphinx-doc/sphinx</a>）。</p></li>
<li><p>克隆分叉的版本库到你的机器上。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">USERNAME</span><span class="o">/</span><span class="n">sphinx</span>
<span class="n">cd</span> <span class="n">sphinx</span>
</pre></div>
</div>
</li>
<li><p>查看相应的分支。</p>
<p>Sphinx 采用了 语义化版本 2.0.0（refs: <a class="reference external" href="https://semver.org/">https://semver.org/</a>）。</p>
<p>对于保留了向后兼容的 API 和功能的变化，它们应该包含在下一个 MINOR 版本中，使用 <code class="docutils literal notranslate"><span class="pre">A.x</span></code> 分支。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">A</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
<p>对于不兼容的或其他实质性的变化，应该等到下一个 MAJOR 版本，使用 <code class="docutils literal notranslate"><span class="pre">master</span></code> 分支。</p>
<p>对于紧急发布，必须从最新的发布标签中分出一个新的 PATCH 分支（详见 <a class="reference internal" href="release-process.html"><span class="doc">Sphinx’s release process</span></a>）。</p>
</li>
<li><p>建立虚拟环境。</p>
<p>由于 <code class="docutils literal notranslate"><span class="pre">tox</span></code> 的存在，这对单元测试来说是不必要的，但如果你想在本地运行 <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> 或在没有 <code class="docutils literal notranslate"><span class="pre">tox</span></code> 的帮助下运行单元测试，这是必要的</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="o">~/.</span><span class="n">venv</span>
<span class="o">.</span> <span class="o">~/.</span><span class="n">venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>创建新的工作分支。选择你喜欢的任何名字。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">feature</span><span class="o">-</span><span class="n">xyz</span>
</pre></div>
</div>
</li>
<li><p>Hack, hack, hack.</p>
<p>把你的代码和测试一起写出来，表明错误得到了修复，或者功能按预期工作。</p>
</li>
<li><p>在 <code class="file docutils literal notranslate"><span class="pre">CHANGES</span></code> 中增加一个要点，如果该修复或功能不是微不足道的（小型文档更新，错别字修复），则提交</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;#42: Add useful new feature that does this.&#39;</span>
</pre></div>
</div>
<p>GitHub 识别某些短语，可以用来自动更新问题跟踪器。比如说</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;Closes #42: Fix invalid markup in docstring of Foo.bar.&#39;</span>
</pre></div>
</div>
<p>将关闭 issue #42。</p>
</li>
<li><p>将分支中的变更推送到你在 GitHub 上的分叉存储库中</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">feature</span><span class="o">-</span><span class="n">xyz</span>
</pre></div>
</div>
</li>
<li><p>从你的分支向相应的分支（<code class="docutils literal notranslate"><span class="pre">master</span></code> 或 <code class="docutils literal notranslate"><span class="pre">A.x</span></code>）提交拉动请求。</p></li>
<li><p>等待核心开发人员审查你的修改。</p></li>
</ol>
</section>
<section id="coding-style">
<h3>Coding style<a class="headerlink" href="#coding-style" title="永久链接至标题">¶</a></h3>
<p>Please follow these guidelines when writing code for Sphinx:</p>
<ul class="simple">
<li><p>Try to use the same code style as used in the rest of the project.</p></li>
<li><p>For non-trivial changes, please update the <code class="file docutils literal notranslate"><span class="pre">CHANGES</span></code> file.  If your
changes alter existing behavior, please document this.</p></li>
<li><p>New features should be documented.  Include examples and use cases where
appropriate.  If possible, include a sample that is displayed in the
generated output.</p></li>
<li><p>When adding a new configuration variable, be sure to document it and update
<code class="file docutils literal notranslate"><span class="pre">sphinx/cmd/quickstart.py</span></code> if it’s important enough.</p></li>
<li><p>Add appropriate unit tests.</p></li>
</ul>
<p>Style and type checks can be run using <code class="docutils literal notranslate"><span class="pre">tox</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">mypy</span>
<span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">flake8</span>
</pre></div>
</div>
</section>
<section id="unit-tests">
<h3>Unit tests<a class="headerlink" href="#unit-tests" title="永久链接至标题">¶</a></h3>
<p>Sphinx is tested using <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a> for Python code and <a class="reference external" href="https://karma-runner.github.io">Karma</a> for JavaScript.</p>
<p>To run Python unit tests, we recommend using <code class="docutils literal notranslate"><span class="pre">tox</span></code>, which provides a number
of targets and allows testing against multiple different Python environments:</p>
<ul>
<li><p>To list all possible targets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">av</span>
</pre></div>
</div>
</li>
<li><p>To run unit tests for a specific Python version, such as Python 3.6:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">py36</span>
</pre></div>
</div>
</li>
<li><p>To run unit tests for a specific Python version and turn on deprecation
warnings on so they’re shown in the test output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PYTHONWARNINGS</span><span class="o">=</span><span class="nb">all</span> <span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">py36</span>
</pre></div>
</div>
</li>
<li><p>Arguments to <code class="docutils literal notranslate"><span class="pre">pytest</span></code> can be passed via <code class="docutils literal notranslate"><span class="pre">tox</span></code>, e.g. in order to run a
particular test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">py36</span> <span class="n">tests</span><span class="o">/</span><span class="n">test_module</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_new_feature</span>
</pre></div>
</div>
</li>
</ul>
<p>You can also test by installing dependencies in your local environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">.</span><span class="p">[</span><span class="n">test</span><span class="p">]</span>
</pre></div>
</div>
<p>To run JavaScript tests, use <code class="docutils literal notranslate"><span class="pre">npm</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span>
<span class="n">npm</span> <span class="n">run</span> <span class="n">test</span>
</pre></div>
</div>
<p>New unit tests should be included in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory where
necessary:</p>
<ul class="simple">
<li><p>For bug fixes, first add a test that fails without your changes and passes
after they are applied.</p></li>
<li><p>Tests that need a <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> run should be integrated in one of the
existing test modules if possible.  New tests that to <code class="docutils literal notranslate"><span class="pre">&#64;with_app</span></code> and
then <code class="docutils literal notranslate"><span class="pre">build_all</span></code> for a few assertions are not good since <em>the test suite
should not take more than a minute to run</em>.</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">1.8 新版功能: </span>Sphinx also runs JavaScript tests.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.6 新版功能: </span><code class="docutils literal notranslate"><span class="pre">sphinx.testing</span></code> is added as a experimental.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.5.2 版更改: </span>Sphinx was switched from nose to pytest.</p>
</div>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">待处理</p>
<p>The below belongs in the developer guide</p>
</div>
<p>Utility functions and pytest fixtures for testing are provided in
<code class="docutils literal notranslate"><span class="pre">sphinx.testing</span></code>. If you are a developer of Sphinx extensions, you can write
unit tests with using pytest. At this time, <code class="docutils literal notranslate"><span class="pre">sphinx.testing</span></code> will help your
test implementation.</p>
<p>How to use pytest fixtures that are provided by <code class="docutils literal notranslate"><span class="pre">sphinx.testing</span></code>?  You can
require <code class="docutils literal notranslate"><span class="pre">'sphinx.testing.fixtures'</span></code> in your test modules or <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code>
files like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest_plugins</span> <span class="o">=</span> <span class="s1">&#39;sphinx.testing.fixtures&#39;</span>
</pre></div>
</div>
<p>If you want to know more detailed usage, please refer to <code class="docutils literal notranslate"><span class="pre">tests/conftest.py</span></code>
and other <code class="docutils literal notranslate"><span class="pre">test_*.py</span></code> files under <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory.</p>
</section>
</section>
<section id="writing-documentation">
<h2>Writing documentation<a class="headerlink" href="#writing-documentation" title="永久链接至标题">¶</a></h2>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">待处理</p>
<p>Add a more extensive documentation contribution guide.</p>
</div>
<p>You can build documentation using <code class="docutils literal notranslate"><span class="pre">tox</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">docs</span>
</pre></div>
</div>
<section id="translations">
<h3>Translations<a class="headerlink" href="#translations" title="永久链接至标题">¶</a></h3>
<p>The parts of messages in Sphinx that go into builds are translated into several
locales.  The translations are kept as gettext <code class="docutils literal notranslate"><span class="pre">.po</span></code> files translated from the
master template <code class="file docutils literal notranslate"><span class="pre">sphinx/locale/sphinx.pot</span></code>.</p>
<p>Sphinx uses <a class="reference external" href="https://babel.pocoo.org/en/latest/">Babel</a> to extract messages
and maintain the catalog files.  It is integrated in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>:</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">extract_messages</span></code> to update the <code class="docutils literal notranslate"><span class="pre">.pot</span></code> template.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">update_catalog</span></code> to update all existing language
catalogs in <code class="docutils literal notranslate"><span class="pre">sphinx/locale/*/LC_MESSAGES</span></code> with the current messages in the
template file.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">compile_catalog</span></code> to compile the <code class="docutils literal notranslate"><span class="pre">.po</span></code> files to binary
<code class="docutils literal notranslate"><span class="pre">.mo</span></code> files and <code class="docutils literal notranslate"><span class="pre">.js</span></code> files.</p></li>
</ul>
<p>When an updated <code class="docutils literal notranslate"><span class="pre">.po</span></code> file is submitted, run compile_catalog to commit both
the source and the compiled catalogs.</p>
<p>When a new locale is submitted, add a new directory with the ISO 639-1 language
identifier and put <code class="docutils literal notranslate"><span class="pre">sphinx.po</span></code> in there.  Don’t forget to update the possible
values for <a class="reference internal" href="../usage/configuration.html#confval-language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">language</span></code></a> in <code class="docutils literal notranslate"><span class="pre">doc/usage/configuration.rst</span></code>.</p>
<p>The Sphinx core messages can also be translated on <a class="reference external" href="https://www.transifex.com/sphinx-doc/sphinx-1/">Transifex</a>.  There <code class="docutils literal notranslate"><span class="pre">tx</span></code> client tool,
which is provided by the <code class="docutils literal notranslate"><span class="pre">transifex_client</span></code> Python package, can be used to
pull translations in <code class="docutils literal notranslate"><span class="pre">.po</span></code> format from Transifex.  To do this, go to
<code class="docutils literal notranslate"><span class="pre">sphinx/locale</span></code> and then run <code class="docutils literal notranslate"><span class="pre">tx</span> <span class="pre">pull</span> <span class="pre">-f</span> <span class="pre">-l</span> <span class="pre">LANG</span></code> where <code class="docutils literal notranslate"><span class="pre">LANG</span></code> is an
existing language identifier.  It is good practice to run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span>
<span class="pre">update_catalog</span></code> afterwards to make sure the <code class="docutils literal notranslate"><span class="pre">.po</span></code> file has the canonical
Babel formatting.</p>
</section>
</section>
<section id="debugging-tips">
<h2>Debugging tips<a class="headerlink" href="#debugging-tips" title="永久链接至标题">¶</a></h2>
<ul>
<li><p>Delete the build cache before building documents if you make changes in the
code by running the command <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> or using the
<a class="reference internal" href="../man/sphinx-build.html#cmdoption-sphinx-build-E"><code class="xref std std-option docutils literal notranslate"><span class="pre">sphinx-build</span> <span class="pre">-E</span></code></a> option.</p></li>
<li><p>Use the <a class="reference internal" href="../man/sphinx-build.html#cmdoption-sphinx-build-P"><code class="xref std std-option docutils literal notranslate"><span class="pre">sphinx-build</span> <span class="pre">-P</span></code></a> option to run <code class="docutils literal notranslate"><span class="pre">pdb</span></code> on exceptions.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">node.pformat()</span></code> and <code class="docutils literal notranslate"><span class="pre">node.asdom().toxml()</span></code> to generate a printable
representation of the document structure.</p></li>
<li><p>Set the configuration variable <a class="reference internal" href="../usage/configuration.html#confval-keep_warnings"><code class="xref std std-confval docutils literal notranslate"><span class="pre">keep_warnings</span></code></a> to <code class="docutils literal notranslate"><span class="pre">True</span></code> so
warnings will be displayed in the generated output.</p></li>
<li><p>Set the configuration variable <a class="reference internal" href="../usage/configuration.html#confval-nitpicky"><code class="xref std std-confval docutils literal notranslate"><span class="pre">nitpicky</span></code></a> to <code class="docutils literal notranslate"><span class="pre">True</span></code> so that Sphinx
will complain about references without a known target.</p></li>
<li><p>Set the debugging options in the <a class="reference external" href="https://docutils.sourceforge.io/docs/user/config.html">Docutils configuration file</a>.</p></li>
<li><p>JavaScript stemming algorithms in <code class="docutils literal notranslate"><span class="pre">sphinx/search/*.py</span></code> (except <code class="docutils literal notranslate"><span class="pre">en.py</span></code>)
are generated by this <a class="reference external" href="https://github.com/shibukawa/snowball">modified snowballcode generator</a>.  Generated <a class="reference external" href="https://jsx.github.io/">JSX</a> files are in <a class="reference external" href="https://github.com/shibukawa/snowball-stemmer.jsx">this repository</a>.  You can get the
resulting JavaScript files using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span>
<span class="n">node_modules</span><span class="o">/.</span><span class="n">bin</span><span class="o">/</span><span class="n">grunt</span> <span class="n">build</span> <span class="c1"># -&gt; dest/*.global.js</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="通用索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="release-process.html" title="Sphinx’s release process"
             >下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="Sphinx internals"
             >上一页</a> |</li>
        <li><a href="../index.html">Sphinx home</a>&#160;|</li>
        <li><a href="../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >Sphinx internals</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">对 Sphinx 的贡献</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2022, Georg Brandl and the Sphinx team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>