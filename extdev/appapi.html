
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Application API &#8212; Sphinx documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx13.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="canonical" href="https://www.sphinx-doc.org/en/master/extdev/appapi.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.svg"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Project API" href="projectapi.html" />
    <link rel="prev" title="为 Sphinx 开发插件" href="index.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script>
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../usage/installation.html">Get it</a></li>
    <li><a href="../contents.html">Docs</a></li>
    <li><a href="../development/index.html">Extend</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <img src="../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="通用索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="projectapi.html" title="Project API"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="为 Sphinx 开发插件"
             accesskey="P">上一页</a> |</li>
        <li><a href="../index.html">Sphinx home</a>&#160;|</li>
        <li><a href="../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">为 Sphinx 开发插件</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Application API</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">Application API</a><ul>
<li><a class="reference internal" href="#extension-setup">插件设置</a></li>
<li><a class="reference internal" href="#emitting-events">触发事件</a></li>
<li><a class="reference internal" href="#sphinx-runtime-information">Sphinx 运行时信息</a></li>
<li><a class="reference internal" href="#sphinx-core-events">Sphinx 核心事件</a></li>
<li><a class="reference internal" href="#checking-the-sphinx-version">检查 Sphinx 版本</a></li>
<li><a class="reference internal" href="#the-config-object">Config 对象</a></li>
<li><a class="reference internal" href="#the-template-bridge">模板的桥梁</a></li>
<li><a class="reference internal" href="#exceptions">异常</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一个主题</h4>
    <p class="topless"><a href="index.html"
                          title="上一章">为 Sphinx 开发插件</a></p>
  </div>
  <div>
    <h4>下一个主题</h4>
    <p class="topless"><a href="projectapi.html"
                          title="下一章">Project API</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/extdev/appapi.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-sphinx.application">
<span id="application-api"></span><h1>Application API<a class="headerlink" href="#module-sphinx.application" title="永久链接至标题">¶</a></h1>
<p>每个 Sphinx 插件是一个 Python 模块，至少有一个 <code class="xref py py-func docutils literal notranslate"><span class="pre">setup()</span></code> 函数。这个函数在初始化时被调用，有一个参数，代表 Sphinx 进程的应用对象。</p>
<dl class="py class">
<dt class="sig sig-object py" id="sphinx.application.Sphinx">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.application.</span></span><span class="sig-name descname"><span class="pre">Sphinx</span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx" title="永久链接至目标">¶</a></dt>
<dd><p>该应用对象具有以下描述的公共 API。</p>
</dd></dl>

<section id="extension-setup">
<h2>插件设置<a class="headerlink" href="#extension-setup" title="永久链接至标题">¶</a></h2>
<p>这些方法通常在一个插件的 <code class="docutils literal notranslate"><span class="pre">setup()</span></code> 函数中调用。</p>
<p>使用 Sphinx 插件 API 的例子可以在 <code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext</span></code> 包中看到。</p>
<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.setup_extension">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">setup_extension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.setup_extension"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.setup_extension" title="永久链接至目标">¶</a></dt>
<dd><p>导入并设置一个 Sphinx 插件模块。</p>
<p>加载由模块 <em>name</em> 给出的插件。如果你的插件需要另一个插件提供的功能，请使用此功能。如果调用两次，则没有作用。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.require_sphinx">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">require_sphinx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.require_sphinx"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.require_sphinx" title="永久链接至目标">¶</a></dt>
<dd><p>如果有要求，请检查 Sphinx 的版本。</p>
<p>将 <em>version</em> 与运行中的 Sphinx 的版本进行比较，当它太旧时就中止构建。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>version</strong> – 所需的版本，形式为 <code class="docutils literal notranslate"><span class="pre">major.minor</span></code>。</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.connect">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.connect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.connect" title="永久链接至目标">¶</a></dt>
<dd><p>注册 <em>callback</em> 在 <em>event</em> 被触发时调用。</p>
<p>关于可用的核心事件和回调函数的参数的详细信息，请参阅 <a class="reference internal" href="#events"><span class="std std-ref">Sphinx 核心事件</span></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – 目标事件的名称</p></li>
<li><p><strong>callback</strong> – 事件的回调函数</p></li>
<li><p><strong>priority</strong> – 回调的优先级。回调函数将按照优先级（升序）的顺序被调用。</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>监听 ID。它可以被 <a class="reference internal" href="#sphinx.application.Sphinx.disconnect" title="sphinx.application.Sphinx.disconnect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">disconnect()</span></code></a> 使用。</p>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.0 版更改: </span>支持 <em>priority</em></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.disconnect">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.disconnect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.disconnect" title="永久链接至目标">¶</a></dt>
<dd><p>通过 <em>listener_id</em> 注销回调函数。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>listener_id</strong> – <a class="reference internal" href="#sphinx.application.Sphinx.connect" title="sphinx.application.Sphinx.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code></a> 返回 listener_id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_builder">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="builderapi.html#sphinx.builders.Builder" title="sphinx.builders.Builder"><span class="pre">Builder</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_builder"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_builder" title="永久链接至目标">¶</a></dt>
<dd><p>注册新的 builder</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – builder 类</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装该构建器，即使已经安装了同名的其他构建器</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_config_value">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_config_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rebuild</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(在 Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_config_value"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_config_value" title="永久链接至目标">¶</a></dt>
<dd><p>注册配置值。</p>
<p>这对于 Sphinx 识别新值并相应地设置默认值是必要的。”</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – 配置值的名称。推荐使用扩展名作为前缀（例如 <code class="docutils literal notranslate"><span class="pre">html_logo</span></code>、<code class="docutils literal notranslate"><span class="pre">epub_title</span></code>）</p></li>
<li><p><strong>default</strong> – 配置的缺省值。</p></li>
<li><p><strong>rebuild</strong> – <p>重建的条件。它必须是以下值之一：</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'env'</span></code> 如果更改的设置仅在文档被解析时生效——这意味着必须重新构建整个环境。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'html'</span></code> 如果改变设置需要完全重建 HTML 文档。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">''</span></code> 如果改变设置将不需要任何特殊的重建。</p></li>
</ul>
</p></li>
<li><p><strong>types</strong> – 配置值的类型。可以指定类型列表。例如， <code class="docutils literal notranslate"><span class="pre">[str]</span></code> 被用来描述接受字符串值的配置。</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.4 版更改: </span>如果 <em>default</em> 值是可调用的，它将被调用配置对象作为它的参数，以获得默认值。这可以用来实现那些默认值依赖于其他值的配置值。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6 版更改: </span>将 <em>rebuild</em> 从简单的布尔值（相当于 <code class="docutils literal notranslate"><span class="pre">''</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'env'</span></code>）更改为字符串。但是，布尔值仍然在内部被接受和转换。</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_event">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_event"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_event" title="永久链接至目标">¶</a></dt>
<dd><p>注册名为 <em>name</em> 的事件。</p>
<p>这是能够 emit 它所需要的。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>name</strong> – 事件的名称</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.set_translator">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">set_translator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">translator_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.NodeVisitor</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.set_translator"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.set_translator" title="永久链接至目标">¶</a></dt>
<dd><p>注册或覆盖 Docutil translator 类。</p>
<p>这用于注册自定义输出 translator 或替换内置 translator。这允许扩展使用自定义 translator，并为 translator 定义自定义节点（参见 <a class="reference internal" href="#sphinx.application.Sphinx.add_node" title="sphinx.application.Sphinx.add_node"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_node()</span></code></a>）。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – translator 的 builder 名称</p></li>
<li><p><strong>translator_class</strong> – translator 类</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装 translator，即使已经安装了另一个同名的 translator</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">1.3 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_node">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.Element</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(在 Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_node"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_node" title="永久链接至目标">¶</a></dt>
<dd><p>注册 Docutils 节点类。</p>
<p>这对 Docutils 内部是必要的。将来它还可能用于验证已解析文档中的节点。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – 节点类</p></li>
<li><p><strong>kwargs</strong> – 每个构建器的访问者函数（见下面）</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装该节点，即使已经安装了同名节点</p></li>
</ul>
</dd>
</dl>
<p>Sphinx HTML、LaTeX、text 和 manpage 的节点访问者函数可以作为关键字参数给出：关键字应该是 <code class="docutils literal notranslate"><span class="pre">'html'</span></code>、<code class="docutils literal notranslate"><span class="pre">'latex'</span></code>、<code class="docutils literal notranslate"><span class="pre">'text'</span></code>、<code class="docutils literal notranslate"><span class="pre">'man'</span></code>、<code class="docutils literal notranslate"><span class="pre">'texinfo'</span></code> 或任何其他受支持的 translator 的一个或多个，值为 <code class="docutils literal notranslate"><span class="pre">(visit,depart)</span></code> 方法的二元组。如果 <code class="docutils literal notranslate"><span class="pre">visit</span></code> 函数抛出 <code class="xref py py-exc docutils literal notranslate"><span class="pre">docutils.nodes.SkipNode</span></code>，则 <code class="docutils literal notranslate"><span class="pre">depart</span></code> 可以为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。例子：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">math</span><span class="p">(</span><span class="n">docutils</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">Element</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">def</span> <span class="nf">visit_math_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;math&#39;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">depart_math_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/math&gt;&#39;</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">math</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="p">(</span><span class="n">visit_math_html</span><span class="p">,</span> <span class="n">depart_math_html</span><span class="p">))</span>
</pre></div>
</div>
<p>很明显，如果你没有为 translator 指定访问者方法，那么当你在翻译文档时，它会在节点上阻塞。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.5 版更改: </span>增加了对访问函数关键字参数的支持。</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_enumerable_node">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_enumerable_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.Element</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_getter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.Node</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(在 Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_enumerable_node"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_enumerable_node" title="永久链接至目标">¶</a></dt>
<dd><p>将 Docutils 节点类注册为 numfig 目标。</p>
<p>Sphinx 自动给节点编号。然后用户可以使用 <a class="reference internal" href="../usage/restructuredtext/roles.html#role-numref" title="numref role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">numref</span></code></a> 引用它。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – 节点类</p></li>
<li><p><strong>figtype</strong> – 可枚举节点的类型。每种图形都有各自的编号顺序。系统 figtype 定义了 <code class="docutils literal notranslate"><span class="pre">figure</span></code>、<code class="docutils literal notranslate"><span class="pre">table</span></code> 和 <code class="docutils literal notranslate"><span class="pre">code-block</span></code>。可以向这些默认图形类型添加定制节点。如果给出了新的 figtype，也可以定义新的自定义 figtype。</p></li>
<li><p><strong>title_getter</strong> – 获取节点标题的 getter 函数。它接受可枚举节点的实例，并且必须以字符串形式返回其标题。title 用于 <a class="reference internal" href="../usage/restructuredtext/roles.html#role-ref" title="ref role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">ref</span></code></a> 引用的默认标题。默认情况下，Sphinx 从节点中搜索 <code class="docutils literal notranslate"><span class="pre">docutils.nodes.caption</span></code> 或 <code class="docutils literal notranslate"><span class="pre">docutils.nodes.title</span></code> 作为标题。</p></li>
<li><p><strong>kwargs</strong> – 每个构建器的访问函数（与 <a class="reference internal" href="#sphinx.application.Sphinx.add_node" title="sphinx.application.Sphinx.add_node"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_node()</span></code></a> 相同）</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装该节点，即使已经安装了同名节点</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">1.4 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_directive">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_directive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="markupapi.html#docutils.parsers.rst.Directive" title="docutils.parsers.rst.Directive"><span class="pre">docutils.parsers.rst.Directive</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_directive"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_directive" title="永久链接至目标">¶</a></dt>
<dd><p>注册 Docutils 指令</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – 指令名称</p></li>
<li><p><strong>cls</strong> – 指令类</p></li>
<li><p><strong>override</strong> – 如果为真，强制安装该指令，即使已经安装了另一个同名指令</p></li>
</ul>
</dd>
</dl>
<p>例如，名为 <code class="docutils literal notranslate"><span class="pre">my-directive</span></code> 的自定义指令会像这样添加：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docutils.parsers.rst</span> <span class="kn">import</span> <span class="n">Directive</span><span class="p">,</span> <span class="n">directives</span>

<span class="k">class</span> <span class="nc">MyDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="n">has_content</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">required_arguments</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">final_argument_whitespace</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">class_option</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;my-directive&#39;</span><span class="p">,</span> <span class="n">MyDirective</span><span class="p">)</span>
</pre></div>
</div>
<p>更多细节见：<a class="reference external" href="https://docutils.sourceforge.io/docs/howto/rst-directives.html">Docutils docs</a> 。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6 版更改: </span>现在支持 Docutils 0.5 风格的指令类。</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.8 版后已移除: </span>Docutils 0.4 风格（基于函数）的指令支持已弃用。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_role">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_role</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_role"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_role" title="永久链接至目标">¶</a></dt>
<dd><p>注册 Docutils 角色。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – 角色名称</p></li>
<li><p><strong>role</strong> – 角色函数</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装该角色，即使已经安装了同名的其他角色</p></li>
</ul>
</dd>
</dl>
<p>有关角色函数的更多细节，请参阅 <a class="reference external" href="https://docutils.sourceforge.io/docs/howto/rst-roles.html">Docutils docs</a>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_generic_role">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_generic_role</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodeclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_generic_role"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_generic_role" title="永久链接至目标">¶</a></dt>
<dd><p>注册通用 Docutils 角色</p>
<p>注册不做任何事情的 Docutils 角色，它只是将其内容包装在由 <em>nodeclass</em> 给出的节点中。</p>
<p>如果 <em>override</em> 为 True，则给定的 <em>nodeclass</em> 会被强制安装，即使已经安装了名为 <em>name</em> 的角色。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_domain">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="domainapi.html#sphinx.domains.Domain" title="sphinx.domains.Domain"><span class="pre">sphinx.domains.Domain</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_domain"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_domain" title="永久链接至目标">¶</a></dt>
<dd><p>注册域</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> – 域类</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装该域名，即使已经安装了同名域名</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_directive_to_domain">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_directive_to_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="markupapi.html#docutils.parsers.rst.Directive" title="docutils.parsers.rst.Directive"><span class="pre">docutils.parsers.rst.Directive</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_directive_to_domain"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_directive_to_domain" title="永久链接至目标">¶</a></dt>
<dd><p>在域中注册 Docutils 指令。</p>
<p>像 <a class="reference internal" href="#sphinx.application.Sphinx.add_directive" title="sphinx.application.Sphinx.add_directive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_directive()</span></code></a>，但是指令被添加到名为 <em>domain</em> 的域。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> – 目标域名称</p></li>
<li><p><strong>name</strong> – 指令名称</p></li>
<li><p><strong>cls</strong> – 指令类</p></li>
<li><p><strong>override</strong> – 如果为真，强制安装该指令，即使已经安装了另一个同名指令</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_role_to_domain">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_role_to_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(在 Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">docutils.parsers.rst.states.Inliner</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(在 Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(在 Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(在 Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(在 Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.Node</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(在 Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.system_message</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">sphinx.roles.XRefRole</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_role_to_domain"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_role_to_domain" title="永久链接至目标">¶</a></dt>
<dd><p>在域中注册 Docutils 角色。</p>
<p>像 <a class="reference internal" href="#sphinx.application.Sphinx.add_role" title="sphinx.application.Sphinx.add_role"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_role()</span></code></a>，但是角色被添加到名为 <em>domain</em> 的域。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> – 目标域的名称</p></li>
<li><p><strong>name</strong> – 角色名称</p></li>
<li><p><strong>role</strong> – 角色函数</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装该角色，即使已经安装了同名的其他角色</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_index_to_domain">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_index_to_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="domainapi.html#sphinx.domains.Index" title="sphinx.domains.Index"><span class="pre">sphinx.domains.Index</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_index_to_domain"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_index_to_domain" title="永久链接至目标">¶</a></dt>
<dd><p>为域注册自定义索引。</p>
<p>添加自定义的 <em>index</em> 类到域名 <em>domain</em>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> – 目标域的名称</p></li>
<li><p><strong>index</strong> – 索引类</p></li>
<li><p><strong>override</strong> – 如果为真，则强制安装索引，即使已经安装了同名的索引</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_object_type">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_object_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directivename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rolename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">indextemplate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_nodeclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.TextElement</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc_field_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(在 Python v3.10)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_object_type"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_object_type" title="永久链接至目标">¶</a></dt>
<dd><p>注册新的 object 类型。</p>
<p>这个方法是一种非常方便的方式来添加新的 <a class="reference internal" href="../glossary.html#term-object"><span class="xref std std-term">object</span></a> 类型，它可以被交叉引用。它会这样做：</p>
<ul class="simple">
<li><p>创建新的指令（叫做 <em>directivename</em>）来记录对象。如果 <em>indextemplate</em> 是非空的，它将自动添加索引条目；如果给出，则必须包含 <code class="docutils literal notranslate"><span class="pre">%s</span></code> 的一个实例。请看下面的例子，了解如何解释这个模板。</p></li>
<li><p>创建新的角色（称为 <em>rolename</em>）来交叉引用这些对象描述。</p></li>
<li><p>如果您提供 <em>parse_node</em>，它必须是接受字符串和 docutils 节点的函数，并且它必须用从字符串解析的子节点填充节点。然后，它必须返回要在交叉引用和索引项中使用的项的名称。请参阅本文档源代码中的 <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code> 文件中的示例。</p></li>
<li><p><em>objname*（如果没有给出，将默认为 *directivename</em>）命名对象的类型。它用于列出对象，例如搜索结果。</p></li>
</ul>
<p>例如，如果您在自定义 Sphinx 插件中有此调用</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>app.add_object_type(&#39;directive&#39;, &#39;dir&#39;, &#39;pair: %s; directive&#39;)
</pre></div>
</div>
<p>您可以在文档中使用此标记</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">rst:directive</span><span class="p">::</span> function

   Document a function.

<span class="nt">&lt;...&gt;</span>

See also the <span class="na">:rst:dir:</span><span class="nv">`function`</span> directive.
</pre></div>
</div>
<p>对于这个指令，索引条目将会被生成，就好像你已经添加了</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> pair: function; directive
</pre></div>
</div>
<p>引用节点将是 <code class="docutils literal notranslate"><span class="pre">literal</span></code> 类（因此它将以比例字体呈现，适合于代码），除非你给出 <em>ref_nodeclass</em> 参数，它必须是 docutils 节点类。最有用的是 <code class="docutils literal notranslate"><span class="pre">docutils.nodes.emphasis</span></code> 或 <code class="docutils literal notranslate"><span class="pre">docutils.nodes.strong</span></code> —— 你也可以使用 <code class="docutils literal notranslate"><span class="pre">docutils.nodes.generated</span></code>，如果你不想要进一步的文本装饰。如果文本应该被视为 literal（例如，没有智能引用替换），但没有 typewriter 样式，使用 <code class="docutils literal notranslate"><span class="pre">sphinx.addnodes.literal_emphasis</span></code> 或 <code class="docutils literal notranslate"><span class="pre">sphinx.addnodes.literal_strong</span></code>。</p>
<p>对于角色内容，您拥有与标准 Sphinx 角色相同的语法可能性（参见 <a class="reference internal" href="../usage/restructuredtext/roles.html#xref-syntax"><span class="std std-ref">交叉引用语法</span></a>）。</p>
<p>如果 <em>override</em> 为True，则给定的 object_type 将被强制安装，即使已经安装了具有相同名称的 object_type。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_crossref_type">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_crossref_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directivename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rolename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">indextemplate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_nodeclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.nodes.TextElement</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_crossref_type"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_crossref_type" title="永久链接至目标">¶</a></dt>
<dd><p>注册新的 crossref 对象类型</p>
<p>这个方法非常类似 <a class="reference internal" href="#sphinx.application.Sphinx.add_object_type" title="sphinx.application.Sphinx.add_object_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_object_type()</span></code></a>，除了它生成的指令必须为空，并且不会产生任何输出。</p>
<p>这意味着你可以添加语义目标到你的源，并使用自定义角色引用它们，而不是通用角色（如 <a class="reference internal" href="../usage/restructuredtext/roles.html#role-ref" title="ref role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">ref</span></code></a>）。示例调用:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>app.add_crossref_type(&#39;topic&#39;, &#39;topic&#39;, &#39;single: %s&#39;,
                      docutils.nodes.emphasis)
</pre></div>
</div>
<p>示例用法</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">topic</span><span class="p">::</span> application API

<span class="gh">The application API</span>
<span class="gh">-------------------</span>

Some random text here.

See also <span class="na">:topic:</span><span class="nv">`this section &lt;application API&gt;`</span>.
</pre></div>
</div>
<p>（当然，<code class="docutils literal notranslate"><span class="pre">topic</span></code> 指令后面的元素不必是 section。)</p>
<p>如果 <em>override</em> 为True，则给定的 crossref_type 被强制安装，即使已经安装了同名的 crossref_type。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_transform">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.transforms.Transform</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_transform" title="永久链接至目标">¶</a></dt>
<dd><p>注册要在解析后应用的 Docutils 变换。</p>
<p>将标准的 <code class="xref py py-class docutils literal notranslate"><span class="pre">Transform</span></code> 子类 <em>transform</em>  添加到 Sphinx 解析 reST 文档后应用的变换列表中。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>transform</strong> – transform 类</p>
</dd>
</dl>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-text">Sphinx 变换的优先级范围类别</span><a class="headerlink" href="#id3" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>优先级</p></td>
<td><p>Sphinx 的主要用途</p></td>
</tr>
<tr class="row-even"><td><p>0-99</p></td>
<td><p>通过 docutils 修复无效节点。翻译 doctree。</p></td>
</tr>
<tr class="row-odd"><td><p>100-299</p></td>
<td><p>准备</p></td>
</tr>
<tr class="row-even"><td><p>300-399</p></td>
<td><p>早期</p></td>
</tr>
<tr class="row-odd"><td><p>400-699</p></td>
<td><p>main</p></td>
</tr>
<tr class="row-even"><td><p>700-799</p></td>
<td><p>后处理。修改文本和引用的截止日期。</p></td>
</tr>
<tr class="row-odd"><td><p>800-899</p></td>
<td><p>收集引用节点和被引用节点。域处理。</p></td>
</tr>
<tr class="row-even"><td><p>900-999</p></td>
<td><p>Finalize and clean up.</p></td>
</tr>
</tbody>
</table>
<p>查看：<a class="reference external" href="https://docutils.sourceforge.io/docs/ref/transforms.html#transform-priority-range-categories">变换优先范围类别</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_post_transform">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_post_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.transforms.Transform</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_post_transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_post_transform" title="永久链接至目标">¶</a></dt>
<dd><p>在编写之前注册要应用的 Docutils 变换。</p>
<p>将标准的 <code class="xref py py-class docutils literal notranslate"><span class="pre">Transform</span></code> 子类 <em>transform</em> 添加到 Sphinx 写文档之前应用的变换列表中。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>transform</strong> – transform 类</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_js_file">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_js_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loading_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_js_file"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_js_file" title="永久链接至目标">¶</a></dt>
<dd><p>注册 JavaScript 文件以包含在 HTML 输出中。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – The filename of the JavaScript file.  It must be relative to the HTML
static path, a full URI with scheme, or <code class="docutils literal notranslate"><span class="pre">None</span></code> value.  The <code class="docutils literal notranslate"><span class="pre">None</span></code>
value is used to create inline <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag.  See the description
of <em>kwargs</em> below.</p></li>
<li><p><strong>priority</strong> – The priority to determine the order of <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag for
JavaScript files.  See list of “prority range for JavaScript
files” below.  If the priority of the JavaScript files it the same
as others, the JavaScript files will be loaded in order of
registration.</p></li>
<li><p><strong>loading_method</strong> – The loading method of the JavaScript file.  <code class="docutils literal notranslate"><span class="pre">'async'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'defer'</span></code> is allowed.</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments are included as attributes of the <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code>
tag.  A special keyword argument <code class="docutils literal notranslate"><span class="pre">body</span></code> is given, its value will be
added between the <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag.</p></li>
</ul>
</dd>
</dl>
<p>示例</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>app.add_js_file(&#39;example.js&#39;)
# =&gt; &lt;script src=&quot;_static/example.js&quot;&gt;&lt;/script&gt;

app.add_js_file(&#39;example.js&#39;, loading_method=&quot;async&quot;)
# =&gt; &lt;script src=&quot;_static/example.js&quot; async=&quot;async&quot;&gt;&lt;/script&gt;

app.add_js_file(None, body=&quot;var myVariable = &#39;foo&#39;;&quot;)
# =&gt; &lt;script&gt;var myVariable = &#39;foo&#39;;&lt;/script&gt;
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id4">
<caption><span class="caption-text">JavaScript 文件的优先级范围</span><a class="headerlink" href="#id4" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>优先级</p></td>
<td><p>Sphinx 的主要用途</p></td>
</tr>
<tr class="row-even"><td><p>200</p></td>
<td><p>内置 JavaScript 文件的默认优先级</p></td>
</tr>
<tr class="row-odd"><td><p>500</p></td>
<td><p>插件的默认优先级</p></td>
</tr>
<tr class="row-even"><td><p>800</p></td>
<td><p><a class="reference internal" href="../usage/configuration.html#confval-html_js_files"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_js_files</span></code></a> 的默认优先级</p></td>
</tr>
</tbody>
</table>
<p>当插件在 <a class="reference internal" href="#event-html-page-context"><code class="xref std std-event docutils literal notranslate"><span class="pre">html-page-context</span></code></a> 事件上调用此方法时，可以将 JavaScript 文件添加到特定的 HTML 页面。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>更名为 <code class="docutils literal notranslate"><span class="pre">app.add_javascript()</span></code>。它允许关键字参数作为 script 标签的属性。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.5 版更改: </span>priority 的 argument。允许添加 JavaScript 文件到特定的页面。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 4.4 版更改: </span>Take loading_method argument.  Allow to change the loading method of the
JavaScript file.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_css_file">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_css_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_css_file"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_css_file" title="永久链接至目标">¶</a></dt>
<dd><p>注册样式表以包含在 HTML 输出中。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – The filename of the CSS file.  It must be relative to the HTML
static path, or a full URI with scheme.</p></li>
<li><p><strong>priority</strong> – The priority to determine the order of <code class="docutils literal notranslate"><span class="pre">&lt;link&gt;</span></code> tag for the
CSS files.  See list of “prority range for CSS files” below.
If the priority of the CSS files it the same as others, the
CSS files will be loaded in order of registration.</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments are included as attributes of the <code class="docutils literal notranslate"><span class="pre">&lt;link&gt;</span></code>
tag.</p></li>
</ul>
</dd>
</dl>
<p>示例</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>app.add_css_file(&#39;custom.css&#39;)
# =&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;_static/custom.css&quot; type=&quot;text/css&quot; /&gt;

app.add_css_file(&#39;print.css&#39;, media=&#39;print&#39;)
# =&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;_static/print.css&quot;
#          type=&quot;text/css&quot; media=&quot;print&quot; /&gt;

app.add_css_file(&#39;fancy.css&#39;, rel=&#39;alternate stylesheet&#39;, title=&#39;fancy&#39;)
# =&gt; &lt;link rel=&quot;alternate stylesheet&quot; href=&quot;_static/fancy.css&quot;
#          type=&quot;text/css&quot; title=&quot;fancy&quot; /&gt;
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id5">
<caption><span class="caption-text">CSS 文件的优先级范围</span><a class="headerlink" href="#id5" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>优先级</p></td>
<td><p>Sphinx 的主要用途</p></td>
</tr>
<tr class="row-even"><td><p>200</p></td>
<td><p>内置 CSS 文件的默认优先级</p></td>
</tr>
<tr class="row-odd"><td><p>500</p></td>
<td><p>插件的默认优先级</p></td>
</tr>
<tr class="row-even"><td><p>800</p></td>
<td><p><a class="reference internal" href="../usage/configuration.html#confval-html_css_files"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_css_files</span></code></a> 的默认优先级</p></td>
</tr>
</tbody>
</table>
<p>当插件在 <a class="reference internal" href="#event-html-page-context"><code class="xref std std-event docutils literal notranslate"><span class="pre">html-page-context</span></code></a> 事件上调用此方法时，可以将 CSS 文件添加到特定的 HTML 页面。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.6 版更改: </span>可选的 <code class="docutils literal notranslate"><span class="pre">alternate</span></code> 和/或 <code class="docutils literal notranslate"><span class="pre">title</span></code> 属性可以与参数 <em>alternate</em> （一个布尔值）和 <em>title</em> （一个字符串）一起提供。默认是没有标题，<em>alternate</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code>。有关更多信息，请参阅 <a class="reference external" href="https://mdn.io/Web/CSS/Alternative_style_sheets">文档</a>。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>更名为 <code class="docutils literal notranslate"><span class="pre">app.add_stylesheet()</span></code>。它允许关键字参数作为链接标签的属性。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.5 版更改: </span>priority 的 argument。允许添加 CSS 文件到特定的页面。</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_latex_package">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_latex_package</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">packagename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after_hyperref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_latex_package"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_latex_package" title="永久链接至目标">¶</a></dt>
<dd><p>注册包含在 LaTeX 源代码中的包。</p>
<p>将 <em>packagename</em> 添加到 LaTeX 源代码将包含的包列表中。如果你提供 <em>options</em>，它将被带到 <cite>usepackage</cite> 声明中。如果你设置 <em>after_hyperref</em> truthy，这个包将会在 <code class="docutils literal notranslate"><span class="pre">hyperref</span></code>  package 之后被加载。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">add_latex_package</span><span class="p">(</span><span class="s1">&#39;mypackage&#39;</span><span class="p">)</span>
<span class="c1"># =&gt; \usepackage{mypackage}</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_latex_package</span><span class="p">(</span><span class="s1">&#39;mypackage&#39;</span><span class="p">,</span> <span class="s1">&#39;foo,bar&#39;</span><span class="p">)</span>
<span class="c1"># =&gt; \usepackage[foo,bar]{mypackage}</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.3 新版功能.</span></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.1 新版功能: </span><em>after_hyperref</em> 选项</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_lexer">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_lexer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">lexer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">pygments.lexer.Lexer</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_lexer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_lexer" title="永久链接至目标">¶</a></dt>
<dd><p>为源代码注册新的 lexer。</p>
<p>使用 <em>lexer</em> 突出显示带有给定语言 <em>alias</em> 的代码块。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 2.1 版更改: </span>把 lexer 类作为参数。在 Sphinx-3.x 之前，lexer 的实例仍然受到支持。</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_autodocumenter">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_autodocumenter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_autodocumenter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_autodocumenter" title="永久链接至目标">¶</a></dt>
<dd><p>为 autodoc 插件注册新的文档器类。</p>
<p>添加 <em>cls</em> 作为 <a class="reference internal" href="../usage/extensions/autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> 插件的新文档器类。它必须是 <code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx.ext.autodoc.Documenter</span></code> 的子类。这允许自动记录新类型的对象。有关如何子类化 <code class="xref py py-class docutils literal notranslate"><span class="pre">Documenter</span></code> 的例子，请参阅 autodoc 模块的源代码。</p>
<p>如果 <em>override</em> 为True，则给定的 <em>cls</em> 被强制安装，即使已经安装了同名文档。</p>
<p>查阅 <a class="reference internal" href="../development/tutorials/autodoc_ext.html#autodoc-ext-tutorial"><span class="std std-ref">Developing autodoc extension for IntEnum</span></a>。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 2.2 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_autodoc_attrgetter">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_autodoc_attrgetter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typ</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">getter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_autodoc_attrgetter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_autodoc_attrgetter" title="永久链接至目标">¶</a></dt>
<dd><p>为 autodoc 插件注册新的类 <code class="docutils literal notranslate"><span class="pre">getattr</span></code> 函数。</p>
<p>添加 <em>getter</em>，它必须是与 <a class="reference external" href="https://docs.python.org/3/library/functions.html#getattr" title="(在 Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">getattr()</span></code></a> 内置接口兼容的函数，作为 <em>typ</em> 实例对象的 autodoc 属性 getter。所有 autodoc 需要获取类型属性的情况都由这个函数处理，而不是 <a class="reference external" href="https://docs.python.org/3/library/functions.html#getattr" title="(在 Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">getattr()</span></code></a>。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_search_language">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_search_language</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_search_language"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_search_language" title="永久链接至目标">¶</a></dt>
<dd><p>为 HTML 搜索索引注册新语言。</p>
<p>添加 <em>cls</em>，它必须是 <code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx.search.SearchLanguage</span></code> 的子类，作为构建 HTML 全文搜索索引的支持语言。类必须有一个 <em>lang</em> 属性来指示它应该用于的语言。查阅 <a class="reference internal" href="../usage/configuration.html#confval-html_search_language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_search_language</span></code></a>。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_source_suffix">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_source_suffix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filetype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_source_suffix"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_source_suffix" title="永久链接至目标">¶</a></dt>
<dd><p>注册源文件的后缀。</p>
<p>同 <a class="reference internal" href="../usage/configuration.html#confval-source_suffix"><code class="xref std std-confval docutils literal notranslate"><span class="pre">source_suffix</span></code></a>。用户可以通过 config 设置来覆盖它。</p>
<p>如果 <em>override</em> 为True，则给定的 <em>suffix</em> 被强制安装，即使已经安装了相同的后缀。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.8 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_source_parser">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_source_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">docutils.parsers.Parser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_source_parser"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_source_parser" title="永久链接至目标">¶</a></dt>
<dd><p>注册 parser 类。</p>
<p>如果 <em>override</em> 为 True，则给定的 <em>parser</em> 被强制安装，即使已经安装了相同后缀的解析器。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.4 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span><em>suffix</em> 参数已弃用。它只接受 <em>parser</em> 参数。使用 <a class="reference internal" href="#sphinx.application.Sphinx.add_source_suffix" title="sphinx.application.Sphinx.add_source_suffix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_source_suffix()</span></code></a> API 来注册后缀。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.8 版更改: </span>添加 <em>override</em> 关键字</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_env_collector">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_env_collector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="collectorapi.html#sphinx.environment.collectors.EnvironmentCollector" title="sphinx.environment.collectors.EnvironmentCollector"><span class="pre">sphinx.environment.collectors.EnvironmentCollector</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_env_collector"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_env_collector" title="永久链接至目标">¶</a></dt>
<dd><p>注册环境收集器类。</p>
<p>指的是 <a class="reference internal" href="collectorapi.html#collector-api"><span class="std std-ref">Environment Collector API</span></a>。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.6 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_html_theme">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_html_theme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_html_theme"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_html_theme" title="永久链接至目标">¶</a></dt>
<dd><p>注册 HTML 状态主题。</p>
<p><em>name</em> 是主题的名称，<em>theme_path</em> 是主题的完整路径（引用：<a class="reference internal" href="../development/theming.html#distribute-your-theme"><span class="std std-ref">将你的主题作为一个Python包发布</span></a>）。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.6 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_html_math_renderer">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_html_math_renderer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline_renderers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(在 Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_renderers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(在 Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(在 Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_html_math_renderer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_html_math_renderer" title="永久链接至目标">¶</a></dt>
<dd><p>为 HTML 注册数学渲染器。</p>
<p>这个 <em>name</em> 是数学渲染器的名字。<em>inline_renderers</em> 和 <em>block_renderers</em> 都被用作 HTML 编写器的访问者函数：前者用于内联数学节点（<code class="docutils literal notranslate"><span class="pre">nodes.math</span></code>），后者用于块数学节点（<code class="docutils literal notranslate"><span class="pre">nodes.math_block</span></code>）。关于访问者函数，请参阅 <a class="reference internal" href="#sphinx.application.Sphinx.add_node" title="sphinx.application.Sphinx.add_node"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_node()</span></code></a> 获取详细信息。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.8 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.add_message_catalog">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">add_message_catalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.add_message_catalog"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.add_message_catalog" title="永久链接至目标">¶</a></dt>
<dd><p>注册消息 catalog。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>catalog</strong> – catalog 的名称</p></li>
<li><p><strong>locale_dir</strong> – 消息 catalog 的基本路径</p></li>
</ul>
</dd>
</dl>
<p>有关详细信息，请参见 <a class="reference internal" href="i18n.html#sphinx.locale.get_translation" title="sphinx.locale.get_translation"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx.locale.get_translation()</span></code></a>。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.8 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.is_parallel_allowed">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">is_parallel_allowed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typ</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.is_parallel_allowed"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.is_parallel_allowed" title="永久链接至目标">¶</a></dt>
<dd><p>检查是否允许并行处理。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>typ</strong> – 处理类型；<code class="docutils literal notranslate"><span class="pre">'read'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'write'</span></code>。</p>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sphinx.application.ExtensionError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.application.</span></span><span class="sig-name descname"><span class="pre">ExtensionError</span></span><a class="headerlink" href="#sphinx.application.ExtensionError" title="永久链接至目标">¶</a></dt>
<dd><p>如果插件 API 出了问题，所有这些方法都会引发这个异常。</p>
</dd></dl>

</section>
<section id="emitting-events">
<h2>触发事件<a class="headerlink" href="#emitting-events" title="永久链接至标题">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.application.</span></span><span class="sig-name descname"><span class="pre">Sphinx</span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.emit">
<span class="sig-name descname"><span class="pre">emit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_exceptions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(在 Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(在 Python v3.10)"><span class="pre">Exception</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(在 Python v3.10)"><span class="pre">List</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.emit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.emit" title="永久链接至目标">¶</a></dt>
<dd><p>触发 <em>event</em> 并向回调函数传递 <em>arguments</em>。</p>
<p>以列表的形式返回所有回调函数的返回值。不要在插件中触发核心 Sphinx 事件！</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – 将被触发的事件的名称</p></li>
<li><p><strong>args</strong> – 事件的 arguments</p></li>
<li><p><strong>allowed_exceptions</strong> – 回调中允许的异常列表</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.1 版更改: </span>增加了 <em>allowed_exceptions</em> 来指定 path-through 异常</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.emit_firstresult">
<span class="sig-name descname"><span class="pre">emit_firstresult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_exceptions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(在 Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(在 Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(在 Python v3.10)"><span class="pre">Exception</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#Sphinx.emit_firstresult"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.Sphinx.emit_firstresult" title="永久链接至目标">¶</a></dt>
<dd><p>触发 <em>event</em> 并向回调函数传递 <em>arguments</em>。</p>
<p>返回第一个不返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> 的回调的结果。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – 将被触发的事件的名称</p></li>
<li><p><strong>args</strong> – 事件的 arguments</p></li>
<li><p><strong>allowed_exceptions</strong> – 回调中允许的异常列表</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.1 版更改: </span>增加了 <em>allowed_exceptions</em> 来指定 path-through 异常</p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="sphinx-runtime-information">
<h2>Sphinx 运行时信息<a class="headerlink" href="#sphinx-runtime-information" title="永久链接至标题">¶</a></h2>
<p>应用程序对象还提供运行时信息作为属性。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.project">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">project</span></span><a class="headerlink" href="#sphinx.application.Sphinx.project" title="永久链接至目标">¶</a></dt>
<dd><p>目标项目。查阅 <a class="reference internal" href="projectapi.html#sphinx.project.Project" title="sphinx.project.Project"><code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code></a>。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.srcdir">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">srcdir</span></span><a class="headerlink" href="#sphinx.application.Sphinx.srcdir" title="永久链接至目标">¶</a></dt>
<dd><p>源目录</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.confdir">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">confdir</span></span><a class="headerlink" href="#sphinx.application.Sphinx.confdir" title="永久链接至目标">¶</a></dt>
<dd><p>目录中存在 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.doctreedir">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">doctreedir</span></span><a class="headerlink" href="#sphinx.application.Sphinx.doctreedir" title="永久链接至目标">¶</a></dt>
<dd><p>用于存储 pickle 文档树的目录。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sphinx.application.Sphinx.outdir">
<span class="sig-prename descclassname"><span class="pre">Sphinx.</span></span><span class="sig-name descname"><span class="pre">outdir</span></span><a class="headerlink" href="#sphinx.application.Sphinx.outdir" title="永久链接至目标">¶</a></dt>
<dd><p>用于存储构建文档的目录。</p>
</dd></dl>

</section>
<section id="sphinx-core-events">
<span id="events"></span><h2>Sphinx 核心事件<a class="headerlink" href="#sphinx-core-events" title="永久链接至标题">¶</a></h2>
<p>这些事件都是众所周知的。将显示的参数提供给已注册的事件处理程序。用 <a class="reference internal" href="#sphinx.application.Sphinx.connect" title="sphinx.application.Sphinx.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sphinx.connect()</span></code></a> 在插件的 <code class="docutils literal notranslate"><span class="pre">setup</span></code>  函数中（注意 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 也可以有 <code class="docutils literal notranslate"><span class="pre">setup</span></code> 函数）来连接事件处理程序。示例：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">source_read_handler</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">docname</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;do something here...&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;source-read&#39;</span><span class="p">,</span> <span class="n">source_read_handler</span><span class="p">)</span>
</pre></div>
</div>
<p>下面是构建过程中发生的每个事件的概述。在下面的列表中，包括了事件的名称，它的回调参数，以及该事件的输入和输出类型：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1. event.config-inited(app,config)
2. event.builder-inited(app)
3. event.env-get-outdated(app, env, added, changed, removed)
4. event.env-before-read-docs(app, env, docnames)

for docname in docnames:
   5. event.env-purge-doc(app, env, docname)

   if doc changed and not removed:
      6. source-read(app, docname, source)
      7. run source parsers: text -&gt; docutils.document
         - parsers can be added with the app.add_source_parser() API
      8. apply transforms based on priority: docutils.document -&gt; docutils.document
         - event.doctree-read(app, doctree) is called in the middle of transforms,
           transforms come before/after this event depending on their priority.

9. event.env-merge-info(app, env, docnames, other)
   - if running in parallel mode, this event will be emitted for each process

10. event.env-updated(app, env)
11. event.env-get-updated(app, env)
12. event.env-check-consistency(app, env)

# The updated-docs list can be builder dependent, but generally includes all new/changed documents,
# plus any output from `env-get-updated`, and then all &quot;parent&quot; documents in the ToC tree
# For builders that output a single page, they are first joined into a single doctree before post-transforms
# or the doctree-resolved event is emitted
for docname in updated-docs:
   13. apply post-transforms (by priority): docutils.document -&gt; docutils.document
   14. event.doctree-resolved(app, doctree, docname)
       - In the event that any reference nodes fail to resolve, the following may emit:
       - event.missing-reference(env, node, contnode)
       - event.warn-missing-reference(domain, node)

15. Generate output files
16. event.build-finished(app, exception)
</pre></div>
</div>
<p>下面是这些事件的一个更详细的列表。</p>
<dl class="std event">
<dt class="sig sig-object std" id="event-builder-inited">
<span class="sig-name descname"><span class="pre">builder-inited</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-builder-inited" title="永久链接至目标">¶</a></dt>
<dd><p>在创建构建器对象时触发。它的名字是 <code class="docutils literal notranslate"><span class="pre">app.builder</span></code>。</p>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-config-inited">
<span class="sig-name descname"><span class="pre">config-inited</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-config-inited" title="永久链接至目标">¶</a></dt>
<dd><p>当配置对象被初始化时触发。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.8 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-env-get-outdated">
<span class="sig-name descname"><span class="pre">env-get-outdated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">env</span></em>, <em class="sig-param"><span class="pre">added</span></em>, <em class="sig-param"><span class="pre">changed</span></em>, <em class="sig-param"><span class="pre">removed</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-env-get-outdated" title="永久链接至目标">¶</a></dt>
<dd><p>当环境确定哪些源文件已更改并应重新读取时触发。<em>added</em>， <em>changed</em> 和 <em>removed</em> 是环境决定的一组文档名。除此之外，你还可以返回一个文档名列表来重新阅读。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-env-purge-doc">
<span class="sig-name descname"><span class="pre">env-purge-doc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">env</span></em>, <em class="sig-param"><span class="pre">docname</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-env-purge-doc" title="永久链接至目标">¶</a></dt>
<dd><p>当应从环境中清除源文件的所有跟踪时发出，即源文件已被删除或在其被新读取之前发出。这适用于那些在环境属性中保留自己缓存的插件。</p>
<p>例如，环境中有所有模块的缓存。当源文件被更改时，缓存中的文件条目将被清除，因为模块声明可能已经从文件中删除了。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-env-before-read-docs">
<span class="sig-name descname"><span class="pre">env-before-read-docs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">env</span></em>, <em class="sig-param"><span class="pre">docnames</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-env-before-read-docs" title="永久链接至目标">¶</a></dt>
<dd><p>在环境确定了所有添加和更改的文件的列表之后，在读取它们之前发出。它允许插件作者在处理之前重新排序文档名列表（<em>inplace</em>），或者添加更多 Sphinx 没有考虑更改的文档名（但永远不要添加任何不在 <code class="docutils literal notranslate"><span class="pre">env.found_docs</span></code> 中的文档名）。</p>
<p>你也可以删除文档名称；这样做要小心，因为它会使 Sphinx 将更改的文件视为未更改的。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.3 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-source-read">
<span class="sig-name descname"><span class="pre">source-read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">docname</span></em>, <em class="sig-param"><span class="pre">source</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-source-read" title="永久链接至目标">¶</a></dt>
<dd><p>当读取源文件时触发。<em>source</em> 参数是列表，它的单个元素是源文件的内容。您可以处理内容并替换此项，以实现源代码级变换。</p>
<p>例如，如果你想使用 <code class="docutils literal notranslate"><span class="pre">$</span></code> 符号来分隔内联数学，就像在 LaTeX 中一样，你可以使用正则表达式将 <code class="docutils literal notranslate"><span class="pre">$...$</span></code> 替换为 <code class="docutils literal notranslate"><span class="pre">:math:`...`</span></code>。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-object-description-transform">
<span class="sig-name descname"><span class="pre">object-description-transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">domain</span></em>, <em class="sig-param"><span class="pre">objtype</span></em>, <em class="sig-param"><span class="pre">contentnode</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-object-description-transform" title="永久链接至目标">¶</a></dt>
<dd><p>当对象描述指令运行时触发。参数 <em>domain</em> 和 <em>objtype</em> 是字符串，指示对象的对象描述。而 <em>contentnode</em> 是对象的内容。它可以在适当的地方进行修改。</p>
<div class="versionadded">
<p><span class="versionmodified added">2.4 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-doctree-read">
<span class="sig-name descname"><span class="pre">doctree-read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">doctree</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-doctree-read" title="永久链接至目标">¶</a></dt>
<dd><p>当环境解析和读取了 doctree，并准备进行 pickle 时发出。<em>doctree</em> 可以就地修改。</p>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-missing-reference">
<span class="sig-name descname"><span class="pre">missing-reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">env</span></em>, <em class="sig-param"><span class="pre">node</span></em>, <em class="sig-param"><span class="pre">contnode</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-missing-reference" title="永久链接至目标">¶</a></dt>
<dd><p>当无法解析对对象的交叉引用时触发。如果事件处理程序可以解析引用，它应该返回新的 docutils 节点，插入到文档树中的节点 <em>node</em> 的位置。通常这个节点是 <code class="xref py py-class docutils literal notranslate"><span class="pre">reference</span></code> 节点，其中包含子节点。如果处理程序不能解析交叉引用，它可以返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> 让其他处理程序尝试，或者引发 <code class="xref py py-class docutils literal notranslate"><span class="pre">NoUri</span></code> 来阻止其他处理程序尝试，并抑制关于此交叉引用未解析的警告。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – 构建环境（<code class="docutils literal notranslate"><span class="pre">app.builder.env</span></code>）。</p></li>
<li><p><strong>node</strong> – 要解析的 <code class="xref py py-class docutils literal notranslate"><span class="pre">pending_xref</span></code> 节点。它的属性 <code class="docutils literal notranslate"><span class="pre">reftype</span></code>、<code class="docutils literal notranslate"><span class="pre">reftarget</span></code>、<code class="docutils literal notranslate"><span class="pre">modname</span></code> 和 <code class="docutils literal notranslate"><span class="pre">classname</span></code> 决定了引用的类型和目标。</p></li>
<li><p><strong>contnode</strong> – 在将来引用中携带文本和格式的节点，应该是返回的引用节点的子节点。</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-warn-missing-reference">
<span class="sig-name descname"><span class="pre">warn-missing-reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">domain</span></em>, <em class="sig-param"><span class="pre">node</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-warn-missing-reference" title="永久链接至目标">¶</a></dt>
<dd><p>当对对象的交叉引用不能被解析时触发，即使在 <a class="reference internal" href="#event-missing-reference"><code class="xref std std-event docutils literal notranslate"><span class="pre">missing-reference</span></code></a> 之后。如果事件处理程序可以对丢失的引用发出警告，那么它应该返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>。配置变量 <a class="reference internal" href="../usage/configuration.html#confval-nitpick_ignore"><code class="xref std std-confval docutils literal notranslate"><span class="pre">nitpick_ignore</span></code></a> 和 <a class="reference internal" href="../usage/configuration.html#confval-nitpick_ignore_regex"><code class="xref std std-confval docutils literal notranslate"><span class="pre">nitpick_ignore_regex</span></code></a> 防止相应节点触发该事件。</p>
<div class="versionadded">
<p><span class="versionmodified added">3.4 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-doctree-resolved">
<span class="sig-name descname"><span class="pre">doctree-resolved</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">doctree</span></em>, <em class="sig-param"><span class="pre">docname</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-doctree-resolved" title="永久链接至目标">¶</a></dt>
<dd><p>当环境已经 “resolved” 文档树时触发，也就是说，所有的引用已经被解析并且 TOC 已经被插入。可以在适当的地方修改 <em>doctree</em>。</p>
<p>这里可以替换编写器中没有访问器方法的自定义节点，这样当编写器遇到这些方法时，它们就不会导致错误。</p>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-env-merge-info">
<span class="sig-name descname"><span class="pre">env-merge-info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">env</span></em>, <em class="sig-param"><span class="pre">docnames</span></em>, <em class="sig-param"><span class="pre">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-env-merge-info" title="永久链接至目标">¶</a></dt>
<dd><p>此事件仅在启用文档并行读取时触发。每次读取了一些文档的子流程都会触发一次。</p>
<p>您必须在将数据存储在自定义位置的环境中的扩展中处理此事件。否则，主进程中的环境将无法感知存储在子进程中的信息。</p>
<p><em>other</em> 是来自子进程的环境对象，<em>env</em> 是来自主进程的环境对象。<em>docnames</em> 是在子进程中读取的一组文档名。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.3 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-env-updated">
<span class="sig-name descname"><span class="pre">env-updated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">env</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-env-updated" title="永久链接至目标">¶</a></dt>
<dd><p>当构建环境的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code> 方法完成时触发，也就是说，环境和所有的文档树现在都是最新的。</p>
<p>你可以从处理器返回 docname 的可迭代对象。这些文件将被认为是更新的，并将在写作阶段（重新）编写。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.3 版更改: </span>现在使用处理程序的返回值。</p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-env-check-consistency">
<span class="sig-name descname"><span class="pre">env-check-consistency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">env</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-env-check-consistency" title="永久链接至目标">¶</a></dt>
<dd><p>当 Consistency 检查 phase 时触发。你可以检查整个文档的元数据的一致性。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.6 新版功能: </span>作为 <strong>experimental</strong> 事件</p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-html-collect-pages">
<span class="sig-name descname"><span class="pre">html-collect-pages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-html-collect-pages" title="永久链接至目标">¶</a></dt>
<dd><p>当 HTML 构建器开始编写非文档页面时触发。你可以通过从这个事件返回由 <code class="docutils literal notranslate"><span class="pre">(pagename,</span> <span class="pre">context,</span> <span class="pre">templatename)</span></code> 组成的可迭代对象来添加要写入的页面。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-html-page-context">
<span class="sig-name descname"><span class="pre">html-page-context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">pagename</span></em>, <em class="sig-param"><span class="pre">templatename</span></em>, <em class="sig-param"><span class="pre">context</span></em>, <em class="sig-param"><span class="pre">doctree</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-html-page-context" title="永久链接至目标">¶</a></dt>
<dd><p>当 HTML 构建器创建了一个上下文字典来呈现模板时触发——这可以用来向上下文添加自定义元素。</p>
<p><em>pagename</em> 参数是所呈现页面的规范名称，也就是说，不带有 <code class="docutils literal notranslate"><span class="pre">.html</span></code> 后缀，并使用斜杠作为路径分隔符。<em>templatename</em> 是要渲染的模板的名称，这将是 <code class="docutils literal notranslate"><span class="pre">'page.html'</span></code>  用于 reST 文档中的所有页面。</p>
<p><em>context</em> 参数是一个值字典，它被提供给模板引擎来呈现页面，并且可以修改为包含自定义值。key 一定是字符串。</p>
<p>当页面从 reST 文档创建时，<em>doctree</em> 参数将是 doctree；当仅从 HTML 模板创建页面时，它将是 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<p>你可以从处理程序返回字符串，然后它将替换 <code class="docutils literal notranslate"><span class="pre">'page.html'</span></code> 作为这个页面的 HTML 模板。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>你可以安装 JS/CSS 文件的特定页面通过 <a class="reference internal" href="#sphinx.application.Sphinx.add_js_file" title="sphinx.application.Sphinx.add_js_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sphinx.add_js_file()</span></code></a> 和 <a class="reference internal" href="#sphinx.application.Sphinx.add_css_file" title="sphinx.application.Sphinx.add_css_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sphinx.add_css_file()</span></code></a> （ v3.5.0）。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">0.4 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.3 版更改: </span>返回值现在可以指定模板名称。</p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-linkcheck-process-uri">
<span class="sig-name descname"><span class="pre">linkcheck-process-uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">uri</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-linkcheck-process-uri" title="永久链接至目标">¶</a></dt>
<dd><p>当 linkcheck 生成器从文档中收集超链接时触发。<em>uri</em> 是一个收集的 URI。事件处理器可以通过返回字符串来修改 URI。</p>
<div class="versionadded">
<p><span class="versionmodified added">4.1 新版功能.</span></p>
</div>
</dd></dl>

<dl class="std event">
<dt class="sig sig-object std" id="event-build-finished">
<span class="sig-name descname"><span class="pre">build-finished</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">app</span></em>, <em class="sig-param"><span class="pre">exception</span></em><span class="sig-paren">)</span><a class="headerlink" href="#event-build-finished" title="永久链接至目标">¶</a></dt>
<dd><p>当构建完成时，Sphinx 退出之前发出，通常用于清理。此事件即使在构建过程引发异常（作为 <em>exception</em> 参数给出）时也会触发。事件处理程序运行后，在应用程序中重新引发该异常。如果构建过程没有引发异常，<em>exception</em> 将为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。这允许根据异常状态定制清理操作。</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
</dd></dl>

</section>
<section id="checking-the-sphinx-version">
<h2>检查 Sphinx 版本<a class="headerlink" href="#checking-the-sphinx-version" title="永久链接至标题">¶</a></h2>
<p>使用它来调整您的插件以适应 Sphinx 中的 API 更改。</p>
<dl class="py data">
<dt class="sig sig-object py" id="sphinx.version_info">
<span class="sig-prename descclassname"><span class="pre">sphinx.</span></span><span class="sig-name descname"><span class="pre">version_info</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(4,</span> <span class="pre">4,</span> <span class="pre">0,</span> <span class="pre">'final',</span> <span class="pre">0)</span></em><a class="headerlink" href="#sphinx.version_info" title="永久链接至目标">¶</a></dt>
<dd><p>更好的程序使用的版本信息。</p>
<p>由五个元素组成的元组；对于 Sphinx 版本 1.2.1 beta 3，这将是 <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">1,</span> <span class="pre">'beta',</span> <span class="pre">3)</span></code>。第四个元素可以是：<code class="docutils literal notranslate"><span class="pre">alpha</span></code>， <code class="docutils literal notranslate"><span class="pre">beta</span></code>， <code class="docutils literal notranslate"><span class="pre">rc</span></code>， <code class="docutils literal notranslate"><span class="pre">final</span></code>。<code class="docutils literal notranslate"><span class="pre">final</span></code> 总是把 0 作为最后一个元素。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.2 新版功能: </span>在 1.2 版本之前，检查字符串 <code class="docutils literal notranslate"><span class="pre">sphinx.__version__</span></code>。</p>
</div>
</dd></dl>

</section>
<section id="the-config-object">
<h2>Config 对象<a class="headerlink" href="#the-config-object" title="永久链接至标题">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sphinx.config.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.config.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(在 Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(在 Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(在 Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sphinx/config.html#Config"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.config.Config" title="永久链接至目标">¶</a></dt>
<dd><p>配置文件的抽象。</p>
<p>配置对象使所有配置值的值作为属性可用。</p>
<p>它是通过 <code class="xref py py-attr docutils literal notranslate"><span class="pre">sphinx.application.Application.config</span></code> 和 <code class="xref py py-attr docutils literal notranslate"><span class="pre">sphinx.environment.Environment.config</span></code> 属性公开的。例如，要获取 <a class="reference internal" href="../usage/configuration.html#confval-language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">language</span></code></a> 的值，可以使用 <code class="docutils literal notranslate"><span class="pre">app.config.language</span></code> 或 <code class="docutils literal notranslate"><span class="pre">env.config.language</span></code>。</p>
</dd></dl>

</section>
<section id="the-template-bridge">
<span id="template-bridge"></span><h2>模板的桥梁<a class="headerlink" href="#the-template-bridge" title="永久链接至标题">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sphinx.application.TemplateBridge">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.application.</span></span><span class="sig-name descname"><span class="pre">TemplateBridge</span></span><a class="reference internal" href="../_modules/sphinx/application.html#TemplateBridge"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.TemplateBridge" title="永久链接至目标">¶</a></dt>
<dd><p>这个类定义了 “template bridge” 的接口，也就是说，一个类在给定模板名称和上下文的情况下呈现模板。</p>
<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.TemplateBridge.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="builderapi.html#sphinx.builders.Builder" title="sphinx.builders.Builder"><span class="pre">Builder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sphinx.theming.Theme</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(在 Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#TemplateBridge.init"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.TemplateBridge.init" title="永久链接至目标">¶</a></dt>
<dd><p>由构建器调用以初始化模板系统。</p>
<p><em>builder</em> 是构建器对象；你可能想看看 <code class="docutils literal notranslate"><span class="pre">builder.config.templates_path</span></code> 的值。</p>
<p><em>theme</em> 是 <code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx.theming.Theme</span></code> 对象或 None；在后一种情况下，<em>dirs</em> 可以是查找模板的固定目录列表。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.TemplateBridge.newest_template_mtime">
<span class="sig-name descname"><span class="pre">newest_template_mtime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(在 Python v3.10)"><span class="pre">float</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#TemplateBridge.newest_template_mtime"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.TemplateBridge.newest_template_mtime" title="永久链接至目标">¶</a></dt>
<dd><p>由构建器调用，以确定输出文件是否因模板更改而过时。返回被更改的最新模板文件的 mtime。默认实现返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.TemplateBridge.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(在 Python v3.10)"><span class="pre">Dict</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#TemplateBridge.render"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.TemplateBridge.render" title="永久链接至目标">¶</a></dt>
<dd><p>由生成器调用，以呈现带有指定上下文（Python 字典）的文件名给定的模板。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sphinx.application.TemplateBridge.render_string">
<span class="sig-name descname"><span class="pre">render_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(在 Python v3.10)"><span class="pre">Dict</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/sphinx/application.html#TemplateBridge.render_string"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.application.TemplateBridge.render_string" title="永久链接至目标">¶</a></dt>
<dd><p>由构造器调用，以呈现带有指定上下文（Python 字典）的字符串形式给定的模板。</p>
</dd></dl>

</dd></dl>

</section>
<section id="exceptions">
<span id="id2"></span><h2>异常<a class="headerlink" href="#exceptions" title="永久链接至标题">¶</a></h2>
<span class="target" id="module-sphinx.errors"></span><dl class="py exception">
<dt class="sig sig-object py" id="sphinx.errors.SphinxError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.errors.</span></span><span class="sig-name descname"><span class="pre">SphinxError</span></span><a class="reference internal" href="../_modules/sphinx/errors.html#SphinxError"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.errors.SphinxError" title="永久链接至目标">¶</a></dt>
<dd><p>Sphinx 错误的基类。</p>
<p>这是 “nice” 异常的基类。当引发这样的异常时，Sphinx 将中止构建，并向用户显示异常类别和消息。</p>
<p>鼓励插件从这个异常中派生自定义错误。</p>
<p>从 <a class="reference internal" href="#sphinx.errors.SphinxError" title="sphinx.errors.SphinxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SphinxError</span></code></a> 派生的异常 <em>not</em> 被视为意外，并显示给用户的一部分回溯（和完整的回溯保存在一个临时文件中）。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sphinx.errors.SphinxError.category">
<span class="sig-name descname"><span class="pre">category</span></span><a class="headerlink" href="#sphinx.errors.SphinxError.category" title="永久链接至目标">¶</a></dt>
<dd><p>对异常的描述 “category”，用于将异常转换为字符串（”category: message”）。应该在子类中相应设置。</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sphinx.errors.ConfigError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.errors.</span></span><span class="sig-name descname"><span class="pre">ConfigError</span></span><a class="reference internal" href="../_modules/sphinx/errors.html#ConfigError"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.errors.ConfigError" title="永久链接至目标">¶</a></dt>
<dd><p>配置错误</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sphinx.errors.ExtensionError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.errors.</span></span><span class="sig-name descname"><span class="pre">ExtensionError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(在 Python v3.10)"><span class="pre">Exception</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(在 Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sphinx/errors.html#ExtensionError"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.errors.ExtensionError" title="永久链接至目标">¶</a></dt>
<dd><p>异常错误</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sphinx.errors.ThemeError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.errors.</span></span><span class="sig-name descname"><span class="pre">ThemeError</span></span><a class="reference internal" href="../_modules/sphinx/errors.html#ThemeError"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.errors.ThemeError" title="永久链接至目标">¶</a></dt>
<dd><p>主题错误</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sphinx.errors.VersionRequirementError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sphinx.errors.</span></span><span class="sig-name descname"><span class="pre">VersionRequirementError</span></span><a class="reference internal" href="../_modules/sphinx/errors.html#VersionRequirementError"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.errors.VersionRequirementError" title="永久链接至目标">¶</a></dt>
<dd><p>Sphinx 版本不兼容错误。</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="通用索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="projectapi.html" title="Project API"
             >下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="为 Sphinx 开发插件"
             >上一页</a> |</li>
        <li><a href="../index.html">Sphinx home</a>&#160;|</li>
        <li><a href="../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >为 Sphinx 开发插件</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Application API</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2022, Georg Brandl and the Sphinx team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>